import{at as d,bh as g,V as v,aJ as l,o as y,i as b,q as r,j as o,ab as Q,ad as S,a as _,aO as k,a1 as x,ac as i,as as P,aN as U}from"./index.60db3dc3.js";import{Q as $}from"./QPage.4a7353bb.js";import{m as w,u as T}from"./post.de84d442.js";import{_ as B}from"./BaseCard.f7886897.js";import{_ as C}from"./PostForm.b81cfeb1.js";import{b as u}from"./route-block.1e6a8648.js";import"./QForm.9ba2c0df.js";import"./QItemLabel.f46cb4a1.js";import"./format.c860d4da.js";import"./QCardActions.92b96a6f.js";import"./validate-rules.ce7e6efc.js";import"./index.8460fa06.js";import"./plugin-vue_export-helper.21dcd24c.js";const N=()=>({title:"",category:"",content:"",tags:[]}),V={__name:"edit",setup(q){const n=d(),m=g(),t=v(N());l(()=>w(n.params.id),{},{onSuccess:s=>{t.value.title=s.title,t.value.category=s.category,t.value.content=s.content,t.value.tags=s.tags}});const{isLoading:p,execute:f}=l(T,null,{immediate:!1,throwError:!0,onSuccess:()=>{m.notify("\uC218\uC815 \uC644\uB8CC")}}),c=async()=>{confirm("\uC218\uC815 \uD558\uC2DC\uACA0\uC5B4\uC694?")!==!1&&await f(1e3,n.params.id,t.value)};return(s,a)=>(y(),b($,{padding:""},{default:r(()=>[o(B,null,{default:r(()=>[o(Q,null,{default:r(()=>[o(S,null,{default:r(()=>a[5]||(a[5]=[_("\uAE00\uC4F0\uAE30")])),_:1})]),_:1}),o(k),o(C,{title:t.value.title,"onUpdate:title":a[1]||(a[1]=e=>t.value.title=e),category:t.value.category,"onUpdate:category":a[2]||(a[2]=e=>t.value.category=e),content:t.value.content,"onUpdate:content":a[3]||(a[3]=e=>t.value.content=e),tags:t.value.tags,"onUpdate:tags":a[4]||(a[4]=e=>t.value.tags=e),onSubmit:c},{actions:r(()=>[x(o(i,{flat:"",label:"\uCDE8\uC18C",onClick:a[0]||(a[0]=e=>s.$router.back())},null,512),[[U]]),o(i,{type:"submit",flat:"",label:"\uC218\uC815",color:"primary",loading:P(p)},null,8,["loading"])]),_:1},8,["title","category","content","tags"])]),_:1})]),_:1}))}};typeof u=="function"&&u(V);export{V as default};
