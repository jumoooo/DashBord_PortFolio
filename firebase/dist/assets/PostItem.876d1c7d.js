import{aJ as g,o as k,i as w,q as l,j as o,a7 as y,aK as B,c as t,as as a,t as d,b6 as M,a as q,d as b,F as L,f as T,ac as p,w as C,a9 as I}from"./index.60db3dc3.js";import{u as Q,a as D,_ as f}from"./PostIcon.08c4412d.js";import{b as N}from"./post.de84d442.js";function A(e=new Date("2025-03-24 17:32")){const s=new Intl.RelativeTimeFormat("ko",{numeric:"auto"}),_=new Date,h=Math.abs(e-_),u=Math.floor(h/1e3),i=Math.floor(u/60),n=Math.floor(i/60),c=Math.floor(n/24),r=Math.floor(c/365);return r>0?s.format(-1*r,"year"):c>0?s.format(-1*c,"day"):n>0?s.format(-1*n,"hour"):i>0?s.format(-1*i,"minute"):s.format(-1*u,"second")}const F=["src"],R={class:"flex items-center"},S={class:"text-h6 q-mt-sm"},U={class:"text-primary text-caption"},V=["innerHTML"],j={class:"row items-center"},H={class:"col-3"},$={class:"flex flex-center"},E={class:"col-3"},J={class:"flex flex-center"},K={class:"col-3"},O={class:"flex flex-center"},P={class:"col-3"},z={class:"flex flex-center"},Z={__name:"PostItem",props:{item:{type:Object,default:()=>({})}},setup(e){const s=e,{isLike:_,likeCount:h,toggleLike:u}=Q(s.item.id,{initialCount:s.item.likeCount}),{isBookmark:i,bookmarkCount:n,toggleBookmark:c}=D(s.item.id,{initialCount:s.item.bookmarkCount}),{state:r}=g(()=>N(s.item.uid),{});return(G,v)=>(k(),w(I,{class:"bg-white q-pt-md",clickable:"",to:`/posts/${e.item.id}`},{default:l(()=>[o(y,{avatar:"",top:""},{default:l(()=>[o(B,null,{default:l(()=>{var m;return[t("img",{src:(m=a(r))==null?void 0:m.photoURL,alt:""},null,8,F)]}),_:1})]),_:1}),o(y,null,{default:l(()=>{var m;return[t("div",R,[t("span",null,d((m=a(r))==null?void 0:m.displayName),1),v[0]||(v[0]=t("span",{class:"q-mx-xs"},"\xB7",-1)),t("span",null,d(a(A)(e.item.createdAt)),1),o(M,{class:"q-ml-sm",dense:"",color:"primary","text-color":"white"},{default:l(()=>[q(d(e.item.category),1)]),_:1})]),t("div",S,d(e.item.title),1),t("div",U,[(k(!0),b(L,null,T(e.item.tags,x=>(k(),b("span",{key:x,class:"q-mr-sm"},"#"+d(x),1))),128))]),t("div",{class:"text-grey-6 q-my-sm ellipsis-2-lines",innerHTML:e.item.content},null,8,V),t("div",j,[t("div",H,[t("div",$,[o(f,{name:"sym_o_visibility",label:e.item.readCount,tooltip:"\uC870\uD68C\uC218"},null,8,["label"])])]),t("div",E,[t("div",J,[o(f,{name:"sym_o_sms",label:e.item.commentCount,tooltip:"\uB313\uAE00\uC218"},null,8,["label"])])]),t("div",K,[t("div",O,[o(p,{class:"full-width",flat:"",dense:"",onClick:C(a(u),["prevent"])},{default:l(()=>[o(f,{name:a(_)?"favorite":"sym_o_favorite",label:a(h),tooltip:"\uC88B\uC544\uC694"},null,8,["name","label"])]),_:1},8,["onClick"])])]),t("div",P,[t("div",z,[o(p,{class:"full-width",flat:"",dense:"",onClick:C(a(c),["prevent"])},{default:l(()=>[o(f,{name:a(i)?"bookmark":"sym_o_bookmark",label:a(n),tooltip:"\uBD81\uB9C8\uD06C"},null,8,["name","label"])]),_:1},8,["onClick"])])])])]}),_:1})]),_:1},8,["to"]))}};export{Z as _};
