var Y=Object.defineProperty;var Z=(t,e,r)=>e in t?Y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var S=(t,e,r)=>(Z(t,typeof e!="symbol"?e+"":e,r),r);import{g as A,o as j,i as Q,q as w,j as p,c as N,aH as F,a as I,aO as ee,d as te,f as re,F as ae,as as se}from"./index.60db3dc3.js";import{Q as ne}from"./QPage.4a7353bb.js";import{_ as oe}from"./PostItem.876d1c7d.js";import"./PostIcon.08c4412d.js";import"./post.de84d442.js";function ie(){function t(e){return new Promise(r=>{let a=new XMLHttpRequest;a.open(e.method,e.url,!0),Object.keys(e.headers).forEach(n=>a.setRequestHeader(n,e.headers[n]));let s=(n,o)=>setTimeout(()=>{a.abort(),r({status:0,content:o,isTimedOut:!0})},n),c=s(e.connectTimeout,"Connection timeout"),i;a.onreadystatechange=()=>{a.readyState>a.OPENED&&i===void 0&&(clearTimeout(c),i=s(e.responseTimeout,"Socket timeout"))},a.onerror=()=>{a.status===0&&(clearTimeout(c),clearTimeout(i),r({content:a.responseText||"Network request failed",status:a.status,isTimedOut:!1}))},a.onload=()=>{clearTimeout(c),clearTimeout(i),r({content:a.responseText,status:a.status,isTimedOut:!1})},a.send(e.data)})}return{send:t}}function ce(t){let e;const r=`algolia-client-js-${t.key}`;function a(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function s(){return JSON.parse(a().getItem(r)||"{}")}function c(n){a().setItem(r,JSON.stringify(n))}function i(){const n=t.timeToLive?t.timeToLive*1e3:null,o=s(),d=Object.fromEntries(Object.entries(o).filter(([,h])=>h.timestamp!==void 0));if(c(d),!n)return;const m=Object.fromEntries(Object.entries(d).filter(([,h])=>{const P=new Date().getTime();return!(h.timestamp+n<P)}));c(m)}return{get(n,o,d={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(i(),s()[JSON.stringify(n)])).then(m=>Promise.all([m?m.value:o(),m!==void 0])).then(([m,h])=>Promise.all([m,h||d.miss(m)])).then(([m])=>m)},set(n,o){return Promise.resolve().then(()=>{const d=s();return d[JSON.stringify(n)]={timestamp:new Date().getTime(),value:o},a().setItem(r,JSON.stringify(d)),o})},delete(n){return Promise.resolve().then(()=>{const o=s();delete o[JSON.stringify(n)],a().setItem(r,JSON.stringify(o))})},clear(){return Promise.resolve().then(()=>{a().removeItem(r)})}}}function le(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(s=>Promise.all([s,r.miss(s)])).then(([s])=>s)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function q(t){const e=[...t.caches],r=e.shift();return r===void 0?le():{get(a,s,c={miss:()=>Promise.resolve()}){return r.get(a,s,c).catch(()=>q({caches:e}).get(a,s,c))},set(a,s){return r.set(a,s).catch(()=>q({caches:e}).set(a,s))},delete(a){return r.delete(a).catch(()=>q({caches:e}).delete(a))},clear(){return r.clear().catch(()=>q({caches:e}).clear())}}}function R(t={serializable:!0}){let e={};return{get(r,a,s={miss:()=>Promise.resolve()}){const c=JSON.stringify(r);if(c in e)return Promise.resolve(t.serializable?JSON.parse(e[c]):e[c]);const i=a();return i.then(n=>s.miss(n)).then(()=>i)},set(r,a){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(a):a,Promise.resolve(a)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function ue(t){const e={value:`Algolia for JavaScript (${t})`,add(r){const a=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return e.value.indexOf(a)===-1&&(e.value=`${e.value}${a}`),e}};return e}function de(t,e,r="WithinHeaders"){const a={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return r==="WithinHeaders"?a:{}},queryParameters(){return r==="WithinQueryParameters"?a:{}}}}function me({algoliaAgents:t,client:e,version:r}){const a=ue(r).add({segment:e,version:r});return t.forEach(s=>a.add(s)),a}function fe(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var U=2*60*1e3;function B(t,e="up"){const r=Date.now();function a(){return e==="up"||Date.now()-r>U}function s(){return e==="timed out"&&Date.now()-r<=U}return{...t,status:e,lastUpdate:r,isUp:a,isTimedOut:s}}var G=class extends Error{constructor(e,r){super(e);S(this,"name","AlgoliaError");r&&(this.name=r)}},V=class extends G{constructor(e,r,a){super(e,a);S(this,"stackTrace");this.stackTrace=r}},he=class extends V{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},J=class extends V{constructor(e,r,a,s="ApiError"){super(e,a,s);S(this,"status");this.status=r}},ge=class extends G{constructor(e,r){super(e,"DeserializationError");S(this,"response");this.response=r}},pe=class extends J{constructor(e,r,a,s){super(e,r,s,"DetailedApiError");S(this,"error");this.error=a}};function ye(t){const e=t;for(let r=t.length-1;r>0;r--){const a=Math.floor(Math.random()*(r+1)),s=t[r];e[r]=t[a],e[a]=s}return e}function Pe(t,e,r){const a=ve(r);let s=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return a.length&&(s+=`?${a}`),s}function ve(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function _e(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const r=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(r)}function we(t,e,r){const a={Accept:"application/json",...t,...e,...r},s={};return Object.keys(a).forEach(c=>{const i=a[c];s[c.toLowerCase()]=i}),s}function be(t){try{return JSON.parse(t.content)}catch(e){throw new ge(e.message,t)}}function Te({content:t,status:e},r){try{const a=JSON.parse(t);return"error"in a?new pe(a.message,e,a.error,r):new J(a.message,e,r)}catch{}return new J(t,e,r)}function Ae({isTimedOut:t,status:e}){return!t&&~~e===0}function Se({isTimedOut:t,status:e}){return t||Ae({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function Ee({status:t}){return~~(t/100)===2}function xe(t){return t.map(e=>X(e))}function X(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}function qe({hosts:t,hostsCache:e,baseHeaders:r,logger:a,baseQueryParameters:s,algoliaAgent:c,timeouts:i,requester:n,requestsCache:o,responsesCache:d}){async function m(l){const u=await Promise.all(l.map(f=>e.get(f,()=>Promise.resolve(B(f))))),y=u.filter(f=>f.isUp()),v=u.filter(f=>f.isTimedOut()),E=[...y,...v];return{hosts:E.length>0?E:l,getTimeout(f,b){return(v.length===0&&f===0?1:v.length+3+f)*b}}}async function h(l,u,y=!0){const v=[],E=_e(l,u),_=we(r,l.headers,u.headers),f=l.method==="GET"?{...l.data,...u.data}:{},b={...s,...l.queryParameters,...f};if(c.value&&(b["x-algolia-agent"]=c.value),u&&u.queryParameters)for(const g of Object.keys(u.queryParameters))!u.queryParameters[g]||Object.prototype.toString.call(u.queryParameters[g])==="[object Object]"?b[g]=u.queryParameters[g]:b[g]=u.queryParameters[g].toString();let k=0;const D=async(g,C)=>{const x=g.pop();if(x===void 0)throw new he(xe(v));const O={...i,...u.timeouts},H={data:E,headers:_,method:l.method,url:Pe(x,l.path,b),connectTimeout:C(k,O.connect),responseTimeout:C(k,y?O.read:O.write)},z=$=>{const L={request:H,response:$,host:x,triesLeft:g.length};return v.push(L),L},T=await n.send(H);if(Se(T)){const $=z(T);return T.isTimedOut&&k++,a.info("Retryable failure",X($)),await e.set(x,B(x,T.isTimedOut?"timed out":"down")),D(g,C)}if(Ee(T))return be(T);throw z(T),Te(T,v)},M=t.filter(g=>g.accept==="readWrite"||(y?g.accept==="read":g.accept==="write")),W=await m(M);return D([...W.hosts].reverse(),W.getTimeout)}function P(l,u={}){const y=l.useReadTransporter||l.method==="GET";if(!y)return h(l,u,y);const v=()=>h(l,u);if((u.cacheable||l.cacheable)!==!0)return v();const _={request:l,requestOptions:u,transporter:{queryParameters:s,headers:r}};return d.get(_,()=>o.get(_,()=>o.set(_,v()).then(f=>Promise.all([o.delete(_),f]),f=>Promise.all([o.delete(_),Promise.reject(f)])).then(([f,b])=>b)),{miss:f=>d.set(_,f)})}return{hostsCache:e,requester:n,timeouts:i,logger:a,algoliaAgent:c,baseHeaders:r,baseQueryParameters:s,hosts:t,request:P,requestsCache:o,responsesCache:d}}var K="5.23.0";function ke(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(ye([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function Ne({appId:t,apiKey:e,authMode:r,algoliaAgents:a,...s}){const c=de(t,e,r),i=qe({hosts:ke(t),...s,algoliaAgent:me({algoliaAgents:a,client:"Lite",version:K}),baseHeaders:{"content-type":"text/plain",...c.headers(),...s.baseHeaders},baseQueryParameters:{...c.queryParameters(),...s.baseQueryParameters}});return{transporter:i,appId:t,apiKey:e,clearCache(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then(()=>{})},get _ua(){return i.algoliaAgent.value},addAlgoliaAgent(n,o){i.algoliaAgent.add({segment:n,version:o})},setClientApiKey({apiKey:n}){!r||r==="WithinHeaders"?i.baseHeaders["x-algolia-api-key"]=n:i.baseQueryParameters["x-algolia-api-key"]=n},searchForHits(n,o){return this.search(n,o)},searchForFacets(n,o){return this.search(n,o)},customPost({path:n,parameters:o,body:d},m){if(!n)throw new Error("Parameter `path` is required when calling `customPost`.");const h="/{path}".replace("{path}",n),u={method:"POST",path:h,queryParameters:o||{},headers:{},data:d||{}};return i.request(u,m)},getRecommendations(n,o){if(n&&Array.isArray(n)&&(n={requests:n}),!n)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!n.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const P={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:n,useReadTransporter:!0,cacheable:!0};return i.request(P,o)},search(n,o){if(n&&Array.isArray(n)&&(n={requests:n.map(({params:u,...y})=>y.type==="facet"?{...y,...u,type:"facet"}:{...y,...u,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!n)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!n.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const P={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:n,useReadTransporter:!0,cacheable:!0};return i.request(P,o)}}}function Ce(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return Ne({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:fe(),requester:ie(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:R(),requestsCache:R({serializable:!1}),hostsCache:q({caches:[ce({key:`${K}-${t}`}),R()]}),...r})}const Oe={class:"row q-col-gutter-x-lg"},$e={class:"col-3"},je={class:"col-9"},Re={class:"pagination flex flex-center q-mt-md"},Qe={__name:"index",setup(t){const e=Ce("U6WFDZNP7C","447537de190d0e10c3457713fc71caf8"),r=a=>a.map(s=>({id:s.objectID,title:s.title,content:s._snippetResult.content.value,category:s.category,tags:s.tags,createdAt:s.createdAt,readCount:s.readCount,likeCount:s.likeCount,bookmarkCount:s.bookmarkCount,commentCount:s.commentCount,uid:s.uid}));return(a,s)=>{const c=A("ais-configure"),i=A("ais-refinement-list"),n=A("ais-panel"),o=A("ais-search-box"),d=A("ais-hits"),m=A("ais-pagination"),h=A("ais-instant-search");return j(),Q(ne,{padding:""},{default:w(()=>[p(h,{"search-client":se(e),"index-name":"dev_posts"},{default:w(()=>[p(c,{hitsPerPage:8}),N("div",Oe,[N("section",$e,[p(F,{flat:"",bordered:"",class:"q-pa-md"},{default:w(()=>[p(n,null,{header:w(()=>s[0]||(s[0]=[I("\uCE74\uD14C\uACE0\uB9AC")])),default:w(()=>[p(i,{attribute:"category"})]),_:1})]),_:1}),p(F,{flat:"",bordered:"",class:"q-pa-md q-mt-md"},{default:w(()=>[p(n,null,{header:w(()=>s[1]||(s[1]=[I("\uD0DC\uADF8")])),default:w(()=>[p(i,{attribute:"tags"})]),_:1})]),_:1})]),N("section",je,[p(o),p(ee,{spaced:""}),p(d,{"transform-items":r},{default:w(({items:P})=>[(j(!0),te(ae,null,re(P,l=>(j(),Q(oe,{key:l.id,item:l},null,8,["item"]))),128))]),_:1}),N("div",Re,[p(m)])])])]),_:1},8,["search-client"])]),_:1})}}};export{Qe as default};
