import{s as d,u as f,V as u,Z as p,bq as y,o as k,d as g,j as B,x as h,a8 as C,c as b,t as m,i as w,q as x,a as L,br as N,e as S,F as V}from"./index.60db3dc3.js";import{h as _,r as q,d as I,e as A,f as T,i as F}from"./post.de84d442.js";const z=(t,i)=>{const{initialCount:n}=i||{},{uid:o,isAuthenticated:s}=d(f()),e=u(!1),a=u(n),l=u(t),r=async()=>{if(s.value===!1){e.value=!1;return}e.value=await _(o.value,l.value)},c=async()=>{if(s.value===!1){alert("\uB85C\uADF8\uC778 \uD6C4 \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4.");return}e.value?(await q(o.value,l.value),a.value--):(await I(o.value,l.value),a.value++),e.value=!e.value};return p(s,()=>r(),{immediate:!0}),{isLike:e,likeCount:y(a),updateLikeCount:v=>a.value=v,toggleLike:c}},D=(t,i)=>{const{initialCount:n}=i||{},{uid:o,isAuthenticated:s}=d(f()),e=u(!1),a=u(n),l=u(t),r=async()=>{if(s.value===!1){e.value=!1;return}e.value=await A(o.value,l.value)},c=async()=>{if(s.value===!1){alert("\uB85C\uADF8\uC778 \uD6C4 \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4.");return}e.value?(await T(o.value,l.value),a.value--):(await F(o.value,l.value),a.value++),e.value=!e.value};return p(s,()=>r(),{immediate:!0}),{isBookmark:e,bookmarkCount:y(a),updateBookmarkCount:v=>a.value=v,toggleBookmark:c}},P={class:"text-grey q-ml-xs text-body2"},E={__name:"PostIcon",props:{name:{type:String,default:"sym_o_visibility",required:!0},label:{type:[String,Number]},tooltip:{type:String}},setup(t){return(i,n)=>(k(),g(V,null,[B(C,h({name:t.name,color:"grey",size:"xs"},i.$attrs),null,16,["name"]),b("span",P,m(t.label),1),t.tooltip?(k(),w(N,{key:0,offset:[0,4]},{default:x(()=>[L(m(t.tooltip),1)]),_:1})):S("",!0)],64))}};export{E as _,D as a,z as u};
