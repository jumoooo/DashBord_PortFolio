import{au as d,b3 as g,V as v,aK as l,o as y,i as b,q as n,j as o,ac as Q,ae as P,a as S,aP as _,a1 as k,ad as i,at as x,aO as U}from"./index.44184293.js";import{Q as $}from"./QPage.24030e32.js";import{m as w,u as T}from"./post.519d828b.js";import{_ as B}from"./BaseCard.ce98291a.js";import{_ as C}from"./PostForm.212d5bb4.js";import{b as u}from"./route-block.1e6a8648.js";import"./QForm.ee9a11c9.js";import"./QItemLabel.ac55b394.js";import"./QCardActions.7ff81854.js";import"./validate-rules.0c14b07e.js";import"./index.4e40ddc4.js";import"./plugin-vue_export-helper.21dcd24c.js";const V=()=>({title:"",category:"",content:"",tags:[]}),q={__name:"edit",setup(N){const r=d(),m=g(),t=v(V());l(()=>w(r.params.id),{},{onSuccess:s=>{t.value.title=s.title,t.value.category=s.category,t.value.content=s.content,t.value.tags=s.tags}});const{isLoading:p,execute:f}=l(T,null,{immediate:!1,throwError:!0,onSuccess:()=>{m.notify("\uC218\uC815 \uC644\uB8CC")}}),c=async()=>{confirm("\uC218\uC815 \uD558\uC2DC\uACA0\uC5B4\uC694?")!==!1&&await f(1e3,r.params.id,t.value)};return(s,a)=>(y(),b($,{padding:""},{default:n(()=>[o(B,null,{default:n(()=>[o(Q,null,{default:n(()=>[o(P,null,{default:n(()=>a[5]||(a[5]=[S("\uAE00\uC4F0\uAE30")])),_:1})]),_:1}),o(_),o(C,{title:t.value.title,"onUpdate:title":a[1]||(a[1]=e=>t.value.title=e),category:t.value.category,"onUpdate:category":a[2]||(a[2]=e=>t.value.category=e),content:t.value.content,"onUpdate:content":a[3]||(a[3]=e=>t.value.content=e),tags:t.value.tags,"onUpdate:tags":a[4]||(a[4]=e=>t.value.tags=e),onSubmit:c},{actions:n(()=>[k(o(i,{flat:"",label:"\uCDE8\uC18C",onClick:a[0]||(a[0]=e=>s.$router.back())},null,512),[[U]]),o(i,{type:"submit",flat:"",label:"\uC218\uC815",color:"primary",loading:x(p)},null,8,["loading"])]),_:1},8,["title","category","content","tags"])]),_:1})]),_:1}))}};typeof u=="function"&&u(q);export{q as default};
